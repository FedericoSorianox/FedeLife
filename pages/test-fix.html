<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test - Fede Life Fix</title>
</head>
<body>
    <h1>üß™ Test de Carga de M√≥dulos</h1>
    <div id="status">‚è≥ Cargando...</div>
    <div id="logs"></div>

    <script type="module">
        // Funci√≥n para mostrar logs
        function log(message, type = 'info') {
            const logsDiv = document.getElementById('logs');
            const logEntry = document.createElement('div');
            logEntry.style.cssText = `
                padding: 5px;
                margin: 2px 0;
                border-left: 3px solid ${type === 'error' ? 'red' : type === 'success' ? 'green' : 'blue'};
                background: #f5f5f5;
                font-family: monospace;
            `;
            logEntry.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
            logsDiv.appendChild(logEntry);
        }

        // Funci√≥n para importar m√≥dulos de forma segura
        async function safeImport(modulePath, moduleName) {
            try {
                log(`üì¶ Intentando cargar: ${moduleName} desde ${modulePath}`);
                const module = await import(modulePath);
                log(`‚úÖ M√≥dulo ${moduleName} cargado correctamente`, 'success');
                return module;
            } catch (error) {
                log(`‚ùå Error cargando ${moduleName}: ${error.message}`, 'error');
                return null;
            }
        }

        // Funci√≥n principal de prueba
        async function testModules() {
            try {
                log('üöÄ Iniciando prueba de carga de m√≥dulos...');
                
                // Cargar m√≥dulos principales
                await safeImport('/funciones/types.js', 'Types');
                await safeImport('/funciones/config-production.js', 'Config Production');
                await safeImport('/funciones/google_ai_analyzer.js', 'Google AI Analyzer');
                await safeImport('/funciones/charts_manager.js', 'Charts Manager');
                await safeImport('/funciones/financial_chat.js', 'Financial Chat');
                await safeImport('/funciones/auth_ui.js', 'Auth UI');
                await safeImport('/funciones/finanzas.js', 'Finanzas');
                
                log('üéâ Prueba completada', 'success');
                document.getElementById('status').textContent = '‚úÖ Todos los m√≥dulos cargados correctamente';
                document.getElementById('status').style.color = 'green';
                
            } catch (error) {
                log(`‚ùå Error durante la prueba: ${error.message}`, 'error');
                document.getElementById('status').textContent = '‚ùå Error durante la prueba';
                document.getElementById('status').style.color = 'red';
            }
        }

        // Ejecutar cuando el DOM est√© listo
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', testModules);
        } else {
            testModules();
        }
    </script>
</body>
</html>
